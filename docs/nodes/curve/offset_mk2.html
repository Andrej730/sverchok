

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Offset Curve &mdash; Sverchok 0.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Sverchok 0.5 documentation" href="../../index.html"/>
        <link rel="up" title="Curves" href="curve_index.html"/>
        <link rel="next" title="Offset Curve on Surface" href="offset_on_surface.html"/>
        <link rel="prev" title="Apply Field to Curve" href="apply_field_to_curve.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../main.html" class="fa fa-home"> Sverchok</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#troubleshooting-installation-errors">Troubleshooting Installation Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../geometry.html">Introduction to geometry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#d-geometry">3D Geometry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../curves.html">Curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html">Surface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html#implicit-surfaces">Implicit Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nurbs.html">NURBS: Curves and Surfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#blender-nurbs-compatibility">Blender NURBS compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html">Scalar Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html#vector-fields">Vector Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solids.html">Solid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../induction.html">Introduction to Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-00-introduction-to-nodeview-and-3dview">Unit 00 - Introduction to NodeView and 3DView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-01-introduction-to-modular-components">Unit 01 - Introduction to modular components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../panels.html">Panels of Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-tree-panel">Node Tree Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#nodes-toolbar">Nodes Toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#presets-panel">Presets Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-s-n-panel">Node’s N panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#d-panel">3D Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#import-export-panel">Import Export Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#templates-in-menu-panel-of-nodes-area">Templates in menu panel of nodes area</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../generator/generator_index.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators_extended/generators_extended_index.html">Generators Extended</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="curve_index.html">Curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface/surface_index.html">Surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../field/field_index.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solid/solid_index.html">Solids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial/spatial_index.html">Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/transforms_index.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzer/analyzer_index.html">Analyzers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_change/modifier_change_index.html">Modifier Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_make/modifier_make_index.html">Modifier Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CAD/CAD_index.html">CAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../number/number_index.html">Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector/vector_index.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrix/matrix_index.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quaternion/quaternion_index.html">Quaternion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../color/color_index.html">Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logic/logic_index.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_main/list_main_index.html">List Main</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_struct/list_struct_index.html">List Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_masks/list_masks_index.html">List Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_mutators/list_mutators_index.html">List Mutators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dictionary/dictionary_index.html">Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../viz/viz_index.html">Viz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/text_index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../script/script_index.html">Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/scene_index.html">Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../object_nodes/object_nodes_index.html">Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/layout_index.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/network_index.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pulga_physics/pulga_physics_index.html">Pulga Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exchange/exchange_index.html">Exchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="../svg/svg_index.html">SVG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#our-workflow">Our workflow:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#what-not-to-do">What not to do:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#helpful-hints">Helpful hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#to-create-a-node">To create a node:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#some-rules">SOME RULES:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute_small_things.html">Contributing small things</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#pull-requests">Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#informal-code-suggestions">Informal code suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#non-one-liners">Non one-liners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#what-gets-our-attention">What gets our attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#general-guidelines">General guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#continuous-integration">Continuous Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../shortcuts.html">Shortcuts</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../main.html">Sverchok</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../main.html">Docs</a> &raquo;</li>
      
          <li><a href="../../nodes.html">Nodes</a> &raquo;</li>
      
          <li><a href="curve_index.html">Curves</a> &raquo;</li>
      
    <li>Offset Curve</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/nodes/curve/offset_mk2.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="offset-curve">
<h1>Offset Curve<a class="headerlink" href="#offset-curve" title="Permalink to this headline">¶</a></h1>
<div class="section" id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Permalink to this headline">¶</a></h2>
<p>This node generates a Curve, calculated as offset of another Curve by some
amount. It takes all points of original curve and moves them in direction
perpendicular to curve’s tangent. In other words, this “offsetting” operation
can be described as extruding one single point along the curve.</p>
<p>When we say “offset all points of curve in direction perpendicular to curve’s
tangent”, there is a good question: where exactly? There are several algorithms
how to define a reference frame associated with curve’s point and curve’s
tangent direction. In simplest cases, all of them will give very similar
results. In more complex cases, results will be very different. Different
algorithms give best results in different cases:</p>
<ul class="simple">
<li>“Frenet” or “Zero-Twist” algorithms give very good results in case when
extrusion curve has non-zero curvature in all points. If the extrusion curve
has zero curvature points, or, even worse, it has straight segments, these
algorithms will either make “flipping” surface, or give an error.</li>
<li>“Householder”, “Tracking” and “Rotation difference” algorithms are
“curve-agnostic”, they work independently of curve by itself, depending only
on tangent direction. They give “good enough” result (at least, without
errors or sudden flips) for all extrusion curves, but may make twisted
surfaces in some special cases.</li>
<li>“Track normal” algorithm is supposed to give good results without twisting
for all extrusion curves. It will give better results with higher values of
“resolution” parameter, but that may be slow.</li>
<li>“Specified plane” algorithm selects offset direction vector so that it
satisfies two conditions: 1) it is perpendicular to curve’s tangent vector,
and 2) it lies in so-called “offset operation plane”, which is specified by
user by providing the normal vector of such plane (in other words, offset
direction vector is perpendicular to normal vector provided by user). This
algorithm is supposed to give good results for planar or almost planar
curves. The resulting curve may have twists in places where original curve’s
tangent vector is parallel to offset operation plane’s normal (i.e. tangent
is perpendicular to offset operation plane). Hint: you may use “Linear
approximation” node to automatically calculate normal vector of offset
operation plane.</li>
</ul>
<p>For all algorithms, reference frame’s Z axis is always pointing along curve’s
tangent direction. Two other axes are always perpendicular to tangent
direction, but where exactly they are pointing - depends on the algorithm. For
Frenet algorithm, X axis is pointing along curve’s normal and Y axis is
pointing along curve’s binormal.</p>
<p>Curve domain and parametrization: the same as of original curve.</p>
</div>
<div class="section" id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following inputs:</p>
<ul>
<li><p class="first"><strong>Curve</strong>. The curve to be offset. This input is mandatory.</p>
</li>
<li><p class="first"><strong>Offset</strong>. Offset amount. This input is available only if <strong>Algorithm</strong>
parameter is set to <strong>Specified plane</strong>, or the <strong>Direction</strong> parameter is
set to <strong>X (Normal)</strong> or <strong>Y (Binormal)</strong>. The input is not available when
<strong>Offset type</strong> parameter is set to <strong>Variable</strong>. The default value is 0.1.</p>
</li>
<li><p class="first"><strong>OffsetCurve</strong>. The curve defining the offset amount for each point of
original curve. The curve is supposed to lie in XOY coordinate plane. The
node uses this curve’s mapping of T parameter to Y coordinate. For parameter
of this offset curve, the node will use either parameter of the original
curve, or it’s length share, depending on <strong>Offset curve type</strong> parameter.
This input is available and mandatory only if <strong>Offset type</strong> parameter is
set to <strong>Variable</strong>.</p>
</li>
<li><p class="first"><strong>Vector</strong>. Offset direction vector. This input is available only if
<strong>Algorithm</strong> parameter is set to <strong>Specified plane</strong>, or the <strong>Direction</strong>
parameter is set to <strong>Custom (N/B/T)</strong>.</p>
<ul class="simple">
<li>For <strong>Specified plane</strong> algorithm, this input defines the normal vector of
offset operation plane (offset direction vector will be always
perpendicular to it).</li>
<li>For other algorithms, Components of the vector are used within curve frame,
calculated according to <strong>Algorithm</strong> parameter. For Frenet algorithm, X
component of the vector represents offset along curve’s normal, Y component
of the vector represents offset along curve’s binormal, and Z component of
the vector represents offset along curve’s tangent.</li>
</ul>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">(0.1,</span> <span class="pre">0,</span> <span class="pre">0)</span></code>.</p>
</li>
<li><p class="first"><strong>Resolution</strong>. Number of samples for <strong>Zero-Twist</strong> or <strong>Track normal</strong>
rotation algorithm calculation. It is also used for curve length calculation,
when <strong>Offset type</strong> parameter is set to <strong>Variable</strong>, and <strong>Offset curve
use</strong> parameter is set to <strong>Curve length</strong>. The more the number is, the more
precise the calculation is, but the slower. The default value is 50. This
input is only available when <strong>Algorithm</strong> parameter is set to <strong>Zero-Twist</strong>
or <strong>Track normal</strong>, or when <strong>Offset type</strong> parameter is set to <strong>Variable</strong>
and <strong>Offset curve use</strong> parameter is set to <strong>Curve length</strong>.</p>
</li>
</ul>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p class="first"><strong>Algorithm</strong>. Curve frame calculation algorithm. The available options are:</p>
<ul class="simple">
<li><strong>Frenet</strong>. Rotate the profile curve according to Frenet frame of the
extrusion curve.</li>
<li><strong>Zero-Twist</strong>. Rotate the profile curve according to “zero-twist” frame of
the extrusion curve.</li>
<li><strong>Householder</strong>: calculate rotation by using Householder’s reflection matrix
(see <a class="reference external" href="https://en.wikipedia.org/wiki/QR_decomposition#Using_Householder_reflections">Wikipedia</a> article).</li>
<li><strong>Tracking</strong>: use the same algorithm as in Blender’s “TrackTo” kinematic
constraint. This node currently always uses X as the Up axis.</li>
<li><strong>Rotation difference</strong>: calculate rotation as rotation difference between two
vectors.</li>
<li><strong>Track normal</strong>: try to maintain constant normal direction by tracking it
along the curve.</li>
<li><strong>Specified plane</strong>: offset direction vector will be always lying in a
plane which is defined by normal vector provided in <strong>Vector</strong> input.</li>
</ul>
<p>The default option is <strong>Householder</strong>.</p>
</li>
<li><p class="first"><strong>Direction</strong>. This defines offset direction. This input is not available
when <strong>Algorithm</strong> parameter is set to <strong>Specified plane</strong>. The available
options are:</p>
<blockquote>
<div><ul class="simple">
<li><strong>X (Normal)</strong>. Offset along curve reference frame’s X axis (for Frenet
frame - curve normal).</li>
<li><strong>Y (Binormal)</strong>. Offset along curve reference frame’s Y axis (for Frenet
frame - curve binormal).</li>
<li><strong>Custom (N/B/T)</strong>. Offset along user-provided vector.</li>
</ul>
<p>The default option is <strong>X (Normal)</strong>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following output:</p>
<ul class="simple">
<li><strong>Curve</strong>. The offsetted curve.</li>
</ul>
</div>
<div class="section" id="examples-of-usage">
<h2>Examples of usage<a class="headerlink" href="#examples-of-usage" title="Permalink to this headline">¶</a></h2>
<p>Offset one curve with several different offset amounts:</p>
<img alt="https://user-images.githubusercontent.com/284644/84906631-a4536580-b0cb-11ea-83b7-5a9920757554.png" src="https://user-images.githubusercontent.com/284644/84906631-a4536580-b0cb-11ea-83b7-5a9920757554.png" />
<p>Example of <strong>Custom (N/B/T)</strong> mode usage:</p>
<img alt="https://user-images.githubusercontent.com/284644/84906638-a5849280-b0cb-11ea-98a7-aad8803bfb9d.png" src="https://user-images.githubusercontent.com/284644/84906638-a5849280-b0cb-11ea-98a7-aad8803bfb9d.png" />
<p>Example of <strong>Specified plane</strong> mode usage. Here <strong>Linear approximation</strong> node
is used to automatically detect the plane where the curve is lying (mostly); it
outputs a normal vector, which is nearly OY axis, so the offset operation plane
will be nearly XOZ. Note that the offsetted curve has a twist in a place where
the tangent of original curve is perpendicular to offset operation plane.</p>
<img alt="https://user-images.githubusercontent.com/284644/85607132-3da2ee80-b66d-11ea-9c8b-2e730dd97751.png" src="https://user-images.githubusercontent.com/284644/85607132-3da2ee80-b66d-11ea-9c8b-2e730dd97751.png" />
<p>Example of <strong>Variable</strong> offset mode usage:</p>
<img alt="https://user-images.githubusercontent.com/284644/85608724-c79f8700-b66e-11ea-97f8-5b54e9d90401.png" src="https://user-images.githubusercontent.com/284644/85608724-c79f8700-b66e-11ea-97f8-5b54e9d90401.png" />
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="offset_on_surface.html" class="btn btn-neutral float-right" title="Offset Curve on Surface">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apply_field_to_curve.html" class="btn btn-neutral" title="Apply Field to Curve"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014...2020, sverchok team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>