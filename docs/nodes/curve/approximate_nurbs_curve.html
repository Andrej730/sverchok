

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Approximate NURBS Curve &mdash; Sverchok 0.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Sverchok 0.5 documentation" href="../../index.html"/>
        <link rel="up" title="Curves" href="curve_index.html"/>
        <link rel="next" title="Interpolate NURBS Curve" href="interpolate_nurbs_curve.html"/>
        <link rel="prev" title="Build NURBS Curve" href="nurbs_curve.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../main.html" class="fa fa-home"> Sverchok</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#troubleshooting-installation-errors">Troubleshooting Installation Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../geometry.html">Introduction to geometry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#d-geometry">3D Geometry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../curves.html">Curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html">Surface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html#implcit-surfaces">Implcit Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nurbs.html">NURBS: Curves and Surfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#blender-nurbs-compatibility">Blender NURBS compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html">Scalar Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html#vector-fields">Vector Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solids.html">Solid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../induction.html">Introduction to Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-00-introduction-to-nodeview-and-3dview">Unit 00 - Introduction to NodeView and 3DView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-01-introduction-to-modular-components">Unit 01 - Introduction to modular components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../panels.html">Panels of Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-tree-panel">Node Tree Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#nodes-toolbar">Nodes Toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#presets-panel">Presets Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-s-n-panel">Node’s N panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#d-panel">3D Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#import-export-panel">Import Export Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#groups-panel">Groups Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#templates-in-menu-panel-of-nodes-area">Templates in menu panel of nodes area</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../generator/generator_index.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators_extended/generators_extended_index.html">Generators Extended</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="curve_index.html">Curves</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface/surface_index.html">Surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../field/field_index.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solid/solid_index.html">Solids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial/spatial_index.html">Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/transforms_index.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzer/analyzer_index.html">Analyzers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_change/modifier_change_index.html">Modifier Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_make/modifier_make_index.html">Modifier Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CAD/CAD_index.html">CAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../number/number_index.html">Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector/vector_index.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrix/matrix_index.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quaternion/quaternion_index.html">Quaternion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logic/logic_index.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_main/list_main_index.html">List Main</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_struct/list_struct_index.html">List Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_masks/list_masks_index.html">List Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_mutators/list_mutators_index.html">List Mutators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dictionary/dictionary_index.html">Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../viz/viz_index.html">Viz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/text_index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../script/script_index.html">Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/scene_index.html">Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../object_nodes/object_nodes_index.html">Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/layout_index.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/network_index.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pulga_physics/pulga_physics_index.html">Pulga Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exchange/exchange_index.html">Exchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="../svg/svg_index.html">SVG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#our-workflow">Our workflow:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#what-not-to-do">What not to do:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#helpful-hints">Helpful hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#to-create-a-node">To create a node:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#some-rules">SOME RULES:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute_small_things.html">Contributing small things</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#pull-requests">Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#informal-code-suggestions">Informal code suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#non-one-liners">Non one-liners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#what-gets-our-attention">What gets our attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#general-guidelines">General guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#continuous-integration">Continuous Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../shortcuts.html">Shortcuts</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../main.html">Sverchok</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../main.html">Docs</a> &raquo;</li>
      
          <li><a href="../../nodes.html">Nodes</a> &raquo;</li>
      
          <li><a href="curve_index.html">Curves</a> &raquo;</li>
      
    <li>Approximate NURBS Curve</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/nodes/curve/approximate_nurbs_curve.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="approximate-nurbs-curve">
<h1>Approximate NURBS Curve<a class="headerlink" href="#approximate-nurbs-curve" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>This node requires either <a class="reference external" href="https://onurraufbingol.com/NURBS-Python/">Geomdl</a> or <a class="reference external" href="https://scipy.org/">SciPy</a> library to work.</p>
</div>
<div class="section" id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Permalink to this headline">¶</a></h2>
<p>This node builds a <a class="reference external" href="https://en.wikipedia.org/wiki/Non-uniform_rational_B-spline">NURBS</a> Curve object, which approximates the given set of
points, i.e. goes as close to them as possible while remaining a smooth curve.</p>
<p>In fact, the generated curve always will be a non-rational curve, which means
that all weights will be equal to 1.</p>
<p>This node supports two implementations of curve approximation algorithm.
Different implementation give you different ways of controlling them:</p>
<ul class="simple">
<li><a class="reference external" href="https://onurraufbingol.com/NURBS-Python/">Geomdl</a> implementation can either define the number of control points of
generated curve automatically, or you can provide it with desired number of
control points. This implementation supports only two metrics - euclidean and
centripetal. This implementation can not generate cyclic (closed) curves.</li>
<li><a class="reference external" href="https://scipy.org/">SciPy</a> implementation allows you to define “smoothing” parameter, to define
how smooth you want the curve to be. By default, it selects the smoothing
factor automatically. If you explicitly set the smoothing factor to zero, the
curve will go exactly through all provided points, i.e. the node will perform
interpolation instead of approximation. This implementation supports wider
selection of metrics. This implementation can make cyclic (closed) curves.
Additionally, when smoothing factor is not zero, you can provide different
weights for different points.</li>
</ul>
</div>
<div class="section" id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><strong>Vertices</strong>. The points to be approximated. This input is mandatory.</li>
<li><strong>Weights</strong>. This input is available only when <strong>Implementation</strong> parameter
is set to <strong>SciPy</strong>. Weights of points to be approximated. Bigger values of
weight mean that the curve will pass through corresponding point at the
smaller distance. This does not have sense if <strong>Smoothing</strong> input is set to
zero. Optional input. If not connected, the node will consider weights of all
points as equal.</li>
<li><strong>Degree</strong>. Degree of the curve to be built. Default value is 3. Most useful values are 3, 5 and 7.</li>
<li><strong>PointsCnt</strong>. Number of curve’s control points. This input is available only
when <strong>Implementation</strong> parameter is set to <strong>Geomdl</strong>, and <strong>Specify points
count</strong> parameter is checked. Default value is 5.</li>
<li><strong>Smoothing</strong>. This input is available only when <strong>Implementation</strong> parameter
is set to <strong>SciPy</strong>, and <strong>Scpecify smoothing</strong> parameter is checked.
Smoothing factor. Bigger values will make more smooth curves. Value of 0
(zero) mean that the curve will exactly pass through all points. The default
value is 0.1.</li>
</ul>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p class="first"><strong>Implementation</strong>. Approximation algorithm implementation to be used. The available values are:</p>
<ul class="simple">
<li><strong>Geomdl</strong>. Use the implementation from <a class="reference external" href="https://onurraufbingol.com/NURBS-Python/">Geomdl</a> library. This is available only when Geomdl library is installed.</li>
<li><strong>SciPy</strong>. Use the implementation from <a class="reference external" href="https://scipy.org/">SciPy</a> library. This is available only when SciPy library is installed.</li>
</ul>
<p>By default, the first available implementaiton is used.</p>
</li>
<li><p class="first"><strong>Centripetal</strong>. This parameter is available only when <strong>Implementation</strong>
parameter is set to <strong>Geomdl</strong>. This defines whether the node will use
centripetal metric. If not checked, the node will use euclidian metric.
Unchecked by default.</p>
</li>
<li><p class="first"><strong>Specify points count</strong>. This parameter is available only when
<strong>Implementation</strong> parameter is set to <strong>Geomdl</strong>. If checked, then it will
be possible to specify the number of curve’s control points in <strong>PointsCnt</strong>
input. Otherwise, the node will determine required number of control points
by itself (this number can be too big for many applications).</p>
</li>
<li><p class="first"><strong>Cyclic</strong>. This parameter is available only when <strong>Implementation</strong>
parameter is set to <strong>SciPy</strong>. Defines whether the generated curve will be
cyclic (closed). Unchecked by default.</p>
</li>
<li><p class="first"><strong>Auto</strong>. This parameter is available only when <strong>Implementation</strong> parameter
is set to <strong>SciPy</strong>, and <strong>Cyclic</strong> parameter is enabled. If checked, the
node will automatically decide if the curve should be cyclic (closed), based
on the distance between the first and last points being approximated: if the
points are close enough, the curve will be closed. If not checked, the curve
will be closed regardless of distance between points, just because <strong>Cyclic</strong>
parameter is checked. Unchecked by default.</p>
</li>
<li><p class="first"><strong>Cyclic threshold</strong>. This parameter is available only when
<strong>Implementation</strong> parameter is set to <strong>SciPy</strong>, <strong>Cyclic</strong> parameter is
enabled, and <strong>Auto</strong> parameter is enabled as well. This defines maximum
distance between the first and the last points being approximated, for which
the node will make the curve cyclic. Default value is 0.0, i.e. the points
must exactly coincide in order for curve to be closed.</p>
</li>
<li><p class="first"><strong>Metric</strong>. This parameter is available only when <strong>Implementation</strong>
parameter is set to <strong>SciPy</strong>.Metric to be used for interpolation. The
available values are:</p>
<blockquote>
<div><ul class="simple">
<li>Manhattan</li>
<li>Euclidian</li>
<li>Points (just number of points from the beginning)</li>
<li>Chebyshev</li>
<li>Centripetal (square root of Euclidian distance)</li>
<li>X, Y, Z axis - use distance along one of coordinate axis, ignore others.</li>
</ul>
<p>The default value is Euclidian.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>Specify smoothing</strong>. This parameter is available only when
<strong>Implementation</strong> parameter is set to <strong>SciPy</strong>. If checked, the node will
allow you to specify smoothing factor via <strong>Smoothing</strong> input. If not
checked, the node will select the smoothing factor automatically. Unchecked
by default.</p>
</li>
</ul>
</div>
<div class="section" id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following outputs:</p>
<ul class="simple">
<li><strong>Curve</strong>. The generated NURBS curve object.</li>
<li><strong>ControlPoints</strong>. Control points of the generated curve.</li>
<li><strong>Knots</strong>. Knot vector of the generated curve.</li>
</ul>
</div>
<div class="section" id="example-of-usage">
<h2>Example of usage<a class="headerlink" href="#example-of-usage" title="Permalink to this headline">¶</a></h2>
<p>Take points from Greasepencil drawing and approximate them with a smooth curve:</p>
<img alt="https://user-images.githubusercontent.com/284644/74363000-7becef00-4deb-11ea-9963-e864dc3a3599.png" src="https://user-images.githubusercontent.com/284644/74363000-7becef00-4deb-11ea-9963-e864dc3a3599.png" />
<p>Use SciPy implementation to make a closed curve:</p>
<img alt="https://user-images.githubusercontent.com/284644/101246890-d61ebe00-3737-11eb-942d-c31e02bf3c3d.png" src="https://user-images.githubusercontent.com/284644/101246890-d61ebe00-3737-11eb-942d-c31e02bf3c3d.png" />
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interpolate_nurbs_curve.html" class="btn btn-neutral float-right" title="Interpolate NURBS Curve">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nurbs_curve.html" class="btn btn-neutral" title="Build NURBS Curve"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014...2020, sverchok team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>