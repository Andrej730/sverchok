

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NURBS Surface from Curves Net &mdash; Sverchok 0.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Sverchok 0.5 documentation" href="../../index.html"/>
        <link rel="up" title="Surface" href="surface_index.html"/>
        <link rel="next" title="Intersect Curve with Surface" href="intersect_curve_surface.html"/>
        <link rel="prev" title="NURBS Birail" href="nurbs_birail.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../main.html" class="fa fa-home"> Sverchok</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#troubleshooting-installation-errors">Troubleshooting Installation Errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../geometry.html">Introduction to geometry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../geometry.html#d-geometry">3D Geometry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../curves.html">Curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html">Surface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surfaces.html#implicit-surfaces">Implicit Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nurbs.html">NURBS: Curves and Surfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nurbs.html#blender-nurbs-compatibility">Blender NURBS compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html">Scalar Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fields.html#vector-fields">Vector Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solids.html">Solid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../induction.html">Introduction to Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-00-introduction-to-nodeview-and-3dview">Unit 00 - Introduction to NodeView and 3DView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../induction.html#unit-01-introduction-to-modular-components">Unit 01 - Introduction to modular components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../panels.html">Panels of Sverchok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-tree-panel">Node Tree Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#nodes-toolbar">Nodes Toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#presets-panel">Presets Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#node-s-n-panel">Node’s N panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#d-panel">3D Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#import-export-panel">Import Export Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../panels.html#templates-in-menu-panel-of-nodes-area">Templates in menu panel of nodes area</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nodes.html">Nodes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../generator/generator_index.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators_extended/generators_extended_index.html">Generators Extended</a></li>
<li class="toctree-l2"><a class="reference internal" href="../curve/curve_index.html">Curves</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="surface_index.html">Surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../field/field_index.html">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../solid/solid_index.html">Solids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial/spatial_index.html">Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/transforms_index.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzer/analyzer_index.html">Analyzers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_change/modifier_change_index.html">Modifier Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modifier_make/modifier_make_index.html">Modifier Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CAD/CAD_index.html">CAD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../number/number_index.html">Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector/vector_index.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matrix/matrix_index.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quaternion/quaternion_index.html">Quaternion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../color/color_index.html">Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logic/logic_index.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_main/list_main_index.html">List Main</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_struct/list_struct_index.html">List Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_masks/list_masks_index.html">List Masks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list_mutators/list_mutators_index.html">List Mutators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dictionary/dictionary_index.html">Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../viz/viz_index.html">Viz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text/text_index.html">Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../script/script_index.html">Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/scene_index.html">Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="../object_nodes/object_nodes_index.html">Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/layout_index.html">Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/network_index.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pulga_physics/pulga_physics_index.html">Pulga Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exchange/exchange_index.html">Exchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="../svg/svg_index.html">SVG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#our-workflow">Our workflow:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#what-not-to-do">What not to do:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#helpful-hints">Helpful hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#to-create-a-node">To create a node:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#some-rules">SOME RULES:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute_small_things.html">Contributing small things</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#pull-requests">Pull Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#informal-code-suggestions">Informal code suggestions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#non-one-liners">Non one-liners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#what-gets-our-attention">What gets our attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute_small_things.html#general-guidelines">General guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#implementation">Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#continuous-integration">Continuous Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../shortcuts.html">Shortcuts</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../main.html">Sverchok</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../main.html">Docs</a> &raquo;</li>
      
          <li><a href="../../nodes.html">Nodes</a> &raquo;</li>
      
          <li><a href="surface_index.html">Surface</a> &raquo;</li>
      
    <li>NURBS Surface from Curves Net</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/nodes/surface/gordon_surface.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="nurbs-surface-from-curves-net">
<h1>NURBS Surface from Curves Net<a class="headerlink" href="#nurbs-surface-from-curves-net" title="Permalink to this headline">¶</a></h1>
<div class="section" id="functionaltiy">
<h2>Functionaltiy<a class="headerlink" href="#functionaltiy" title="Permalink to this headline">¶</a></h2>
<p>Given a net of intersecting curves, this node generates a surface which passes
through all given curves.</p>
<p>A net of curves is two sets of curves, one set along one direction and one set
along another. One set of curves is called “U-curves” (curves along U
direction) and another set of curves is called “V-curves” (curves along V
direction).</p>
<p>Apart of curves grid, this node requires intersection points of curves provided
explictly. Intersection points can be calculated by use of “Intersect NURBS
curves” node. Note: that node uses numeric algorithms to calculate
intersections, so it can fail to find intersections, or give imprecise results.
So, if you have intersection points in advance, it’s better to use them.</p>
<p>This node generates a NURBS surface from NURBS curves according to algorithm
known as “Gordon Surface”.</p>
<p>“Gordon Surface” algorithm has a number of restrictions:</p>
<ul class="simple">
<li>All input curves must be NURBS or NURBS-like. More specifically, only
non-rational curves are supported - i.e., without weights (or all weights
equal).</li>
<li>All U-curves must have “the same” direction; all V-curves must also have “the
same” direction.</li>
<li>There must be N curves along one direction, and M curves along another
direction, which must exactly intersect at <cite>N x M</cite> points.</li>
<li>Intersection points must be located evenly in parameter spaces of curves. For
example, V-Curve <cite>C_v</cite> must intersect all U-curves <cite>C_u</cite> at the same value of
U parameter. In other words, intersection points must be located so that
given curves would represent iso-curves of some surface, along U and V
directions correspondingly.</li>
<li>U-curves must be ordered along direction of V-curves, and vice versa. For
example, if U-curve <cite>C_u1</cite> intersects V-curve <cite>C_v</cite> at <cite>v = v1</cite>, and another
U-curve C_u2 intersects the same V-curve <cite>C_v</cite> at <cite>v = v2</cite>, and <cite>v1 &lt; v2</cite>,
then in input curves list, <cite>C_u1</cite> must be provided before <cite>C_u2</cite>.</li>
</ul>
<p>If some of these requirements are not met exactly, then the resulting surface
will pass through the curves only approximately.</p>
<p>If intersections of your curves are located arbitrarily in parameter spaces of
curves, the node can try to reparametrize curves in order to make intersections
located “even” in parameter spaces. Note that reparametrization algorithm is
somewhat rude, so it can produce unwanted additional control points, and/or
create “bad” parametrization of resulting surface. In some cases, it is
possible to get a better parametrization by manually removing excessive knots.</p>
<p>To clear the issue of intersections location in parameter space, let’s draw some pictures.</p>
<p>Good parametrization: (first number is parameter of U-curve at the intersection
point, the second number is parameter of V-curve at the intersection point):</p>
<img alt="https://user-images.githubusercontent.com/284644/123667069-394a7c00-d853-11eb-86dd-4b7b79bbb827.png" src="https://user-images.githubusercontent.com/284644/123667069-394a7c00-d853-11eb-86dd-4b7b79bbb827.png" />
<p>Note that when you move from left to right, U value is changing by the same
amount at all U-curves. And when you move from bottom to top, V-value is
changing by the same amount at all V-curves.</p>
<p>“Bad” parametrization:</p>
<img alt="https://user-images.githubusercontent.com/284644/123667108-44051100-d853-11eb-9f68-52529b2278d8.png" src="https://user-images.githubusercontent.com/284644/123667108-44051100-d853-11eb-9f68-52529b2278d8.png" />
</div>
<div class="section" id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following inputs:</p>
<ul class="simple">
<li><strong>CurvesU</strong>. Set of curves along U direction. This input is mandatory. At
least two U-curves is required to build a proper surface.</li>
<li><strong>CurvesV</strong>. Set of curves along V direction. This input is mandatory. At
least two V-curves is required to build a proper surface.</li>
<li><strong>T1</strong>. This input is available and mandatory when <strong>Explicit T values</strong>
parameter is checked. For each U-curve, this input should contain a list of T
parameter values, at which this curve intersects V-curves.</li>
<li><strong>T2</strong>. This input is available and mandatory when <strong>Explicit T values</strong>
parameter is checked. For each V-curve, this input should contain a list of T
parameter values, at which this curve intersects U-curves.</li>
<li><strong>Intersections</strong>. Intersection points of curves. For each U-curve, this
input must contain a list of points (in 3D space), where this curve
intersects V-curves. This input is mandatory.</li>
</ul>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>This node has the following parameters:</p>
<ul>
<li><p class="first"><strong>Explicit T values</strong>. If checked, the node expects the user to provide T
parameter values of curve intersections in <strong>T1</strong> and <strong>T2</strong> inputs. In this
case, the node will try to automatically reparametrize input curves in order
to make intersection points located “evenly” in curve’s parameter space (see
illustrations above). If not checked, the node will calculate T values of
intersections according to <strong>Metric</strong> parameter. Unchecked by default.</p>
</li>
<li><p class="first"><strong>Metric</strong>. This node is available in the N panel only, and only when
<strong>Explicit T values</strong> parameter is not checked. This defines the metric,
which the node should use to calculate T values of curve intersections, when
they are not provided by user. The available options are:</p>
<blockquote>
<div><ul class="simple">
<li>Manhattan</li>
<li>Euclidian</li>
<li>Points (just number of points from the beginning)</li>
<li>Chebyshev</li>
<li>Centripetal (square root of Euclidian distance).</li>
</ul>
<p>The default option is Points. In most cases, this option gives the best results.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>Knotvector accuracy</strong>. This parameter is available in the N panel only.
Number of decimal digits (after decimal point), to which the node should
round values in resulting surface’s knot vectors. More decimal digits will
give more exact results, but can produce a number of knots / control points
located very close to each other, most of them being just an artefact of
floating-point precision issues. The default value is 4.</p>
</li>
</ul>
</div>
<div class="section" id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this headline">¶</a></h2>
<p>This node has the following output:</p>
<ul class="simple">
<li><strong>Surface</strong>. The resulting NURBS surface.</li>
</ul>
</div>
<div class="section" id="examples-of-usage">
<h2>Examples of usage<a class="headerlink" href="#examples-of-usage" title="Permalink to this headline">¶</a></h2>
<img alt="https://user-images.githubusercontent.com/284644/123552408-71888680-d78f-11eb-92b7-904edc5a53bb.png" src="https://user-images.githubusercontent.com/284644/123552408-71888680-d78f-11eb-92b7-904edc5a53bb.png" />
<img alt="https://user-images.githubusercontent.com/284644/124376217-4e923100-dcbf-11eb-8a50-4c4f2e21442f.png" src="https://user-images.githubusercontent.com/284644/124376217-4e923100-dcbf-11eb-8a50-4c4f2e21442f.png" />
<p>There are some other examples at github’s PR page: <a class="reference external" href="https://github.com/nortikin/sverchok/pull/4183">https://github.com/nortikin/sverchok/pull/4183</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="intersect_curve_surface.html" class="btn btn-neutral float-right" title="Intersect Curve with Surface">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nurbs_birail.html" class="btn btn-neutral" title="NURBS Birail"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014...2020, sverchok team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>